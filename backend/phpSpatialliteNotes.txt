The following steps describe how to set up an environment.  Windows/XAMPP had an issue with having integrated Apache/PHP (had to do with threads)

On Centos, vmware workstation on css-mearns

-installed php package
sudo yum groupinstall 'PHP'

su
yum groupinstall 'Development Tools'

(above did git install so no need to do that now)

installed EPEL (also rpm forge)
wget http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-8.noarch.rpm
sudo rpm -i epel-release-6-8.noarch.rpm
sudo yum install epel


-turn on debugging in php
cp '/usr/share/doc/php-common-5.3.3/php.ini-development' /etc/php.ini


copy limabean.sqlite to server /var/www/html/limabean/backend

installed spatialite dependencies
sudo yum install proj
sudo yum install proj-devel
sudo yum install geos
sudo yum install geos-devel
sudo yum install freexl
sudo yum install freexl-devel
sudo yum install zlib-devel

spatialite 3.0.0 beta
wget http://www.gaia-gis.it/gaia-sins/libspatialite-sources/libspatialite-4.1.1.tar.gz
tar .......

-edit php.ini ... turn on php_sqlite3 and set sqlite extenstions directory to /usr/local/lib
sudo vi /etc/php.ini

-cloned repo
cd /var/www/html
git clone https://github.com/bmearns/limabean

-started httpd w/ sudo
sudo service httpd start
-restart apache
sudo service httpd restart

changes are made on css-mearns at

and pulled on the vm with 
cd /var/www/html/limabean
git pull

start sqlite3 and load spatialite to debug issue, copied over newer version of limabean.sqlite w/ winscp
$ sqlite3 /var/www/html/limabean/backend/limabean.sqlite
sqlite> .load /usr/lib64/libspatialite.so
sqlite> CREATE TABLE IF NOT EXISTS states_bounding AS SELECT * FROM states WHERE ST_Intersects(geometry, PolyFromText('POLYGON((-75.8 38.4, -75.0 38.4, -75.0 39.85, -75.8 39.85, -75.8 38.4))',4236))=1;
sqlite> drop table states;

create new field in measurement to do quick queries ... populate with state id

ALTER TABLE "measurement"
ADD COLUMN state_abbr text;

UPDATE measurement
SET
      state_abbr = (SELECT states.STATE_ABBR
                            FROM states
                            WHERE ST_INTERSECTS(measurement.geometry,states.geometry)=1);
							
							
I NEED TO GET MY query in dolayer to spliit up (aggregate) properly ... some improvement when I joined by state name, grouped by compound (more than one) fields, testing in CLI spatialite on VM
... actually, I think this is fine

need to update to SpatiaLite 3.0.0-BETA ... current version (2.2) doesn't have geojson function


--------------------------- OLD or ABANDONED BELOW ----------------------------

install spatialite-gui to test query on local database

wget http://www.gaia-gis.it/gaia-sins/spatialite_gui-1.7.1.tar.gz
tar -zxf spatialite_gui-1.7.1.tar.gz

sudo yum install wxGTK
sudo yum install wxGTK-devel
sudo yum install geos-devel
sudo yum install libgeotiff
sudo yum install libgeotiff-devel
sudo yum install libxml2-devel
sudo yum install sqlite-devel

wget http://www.gaia-gis.it/gaia-sins/libgaiagraphics-0.5.tar.gz
tar -zxf libgaiagraphics-0.5.tar.gz
cd libgaiagraphics-0.5
./configure
make
sudo make install

export LIBGAIAGRAPHICS_LIBS=-L/usr/local/lib
export LIBGAIAGRAPHICS_CFLAGS=-lgaiagraphics

export LIBFREEXL_LIBS=-L/usr/lib64
export LIBFREEXL_CFLAGS=-lfreexl

export LIBXML2_LIBS=-L/usr/lib64
export LIBXML2_CFLAGS=-lxml2

export LIBSPATIALITE_CFLAGS=-L/usr/lib64
export LIBSPATIALITE_LIBS=-lxml2

cd spatialite_gui-1.7.1
./configure


sudo yum install libspatialite-devel


... need to build this from source because sqlite is not included with yum
wget http://us1.php.net/get/php-5.5.14.tar.gz/from/this/mirror
tar -zxf php-5.5.14.tar.gz

Problem: PHP does not have driver/library to support spatialite functions/datatypes

On Windows WWAMP

#1 Solution: Download spatialite.dll and add to php extensions/php ini; load via loadExtension
http://stackoverflow.com/questions/9806804/how-to-configure-wampserver-for-spatialite
download spatialite.dll: http://www.gaia-gis.it/gaia-sins/windows-bin-x86/
... seems to end in the "Not supported in multithreaded Web Servers" error

as suggested via spatialite (linux-centric): http://www.gaia-gis.it/spatialite-2.4.0-4/spatialite-cookbook/html/php.html

#2 Solution: Download source and compile/make with msys/minGW

On Linux

Solution:
can get spatialite (/dll's) via apt-get


Problem: loadExtension triggers "Not supported in multithreaded Web Servers"

#3 Solution: make sure to include from php.ini, etc. ... do all shown in #1
http://gis.stackexchange.com/questions/12279/integrating-spatialite-and-php-sqlite3-on-windows-platformbase


about accessing DLL's from language database connector
http://www.gaia-gis.it/spatialite-3.0.0-BETA1/WinDllHell.pdf


... #3, NEED SEPERATED PHP/APACHE INSTALLATION ... NOT WAMPP/XAMPP

start a new terminal 
sudo yum install sqlite

wget http://www.sqlite.org/2014/sqlite-autoconf-3080500.tar.gz
tar -zxf sqlite-autoconf-3080500.tar.gz
cd sqlite-autoconf-3080500
./configure
make
sudo make install


